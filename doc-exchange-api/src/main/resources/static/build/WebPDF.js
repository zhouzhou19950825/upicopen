!function(t,e){"use strict";"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",["exports"],e):e("undefined"!=typeof exports?exports:t.pdfjsDistBuildPdf={})}(this,function(t){"use strict";var e="2.2.95",n="8d3f0ae",r=("undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,{});(function(){!function(t,e){e(t.pdfjsSharedUtil={})}(this,function(t){function e(t){z=t}function n(){return z}function r(t){z>=G.infos&&console.log("Info: "+t)}function i(t){z>=G.warnings&&console.log("Warning: "+t)}function a(t){console.log("Deprecated API usage: "+t)}function s(t){throw z>=G.errors&&(console.log("Error: "+t),console.log(o())),new Error(t)}function o(){try{throw new Error}catch(t){return t.stack?t.stack.split("\n").slice(2).join("\n"):""}}function c(t,e){t||s(e)}function l(t,e){try{var n=new URL(t);if(!n.origin||"null"===n.origin)return!1}catch(r){return!1}var i=new URL(e,n);return n.origin===i.origin}function h(t,e){if(!t||"string"!=typeof t)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(t);if(!n)return e;switch(n=n[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1}}function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function u(t){var e;return function(){return t&&(e=Object.create(null),t(e),t=null),e}}function p(t){return"string"!=typeof t?(i("The argument for removeNullCharacters must be a string."),t):t.replace(it,"")}function f(t){c(null!==t&&"object"==typeof t&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length,n=8192;if(n>e)return String.fromCharCode.apply(null,t);for(var r=[],i=0;e>i;i+=n){var a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function g(t){c("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),r=0;e>r;++r)n[r]=255&t.charCodeAt(r);return n}function m(t){return void 0!==t.length?t.length:(c(void 0!==t.byteLength),t.byteLength)}function v(t){if(1===t.length&&t[0]instanceof Uint8Array)return t[0];var e,n,r,i=0,a=t.length;for(e=0;a>e;e++)n=t[e],r=m(n),i+=r;var s=0,o=new Uint8Array(i);for(e=0;a>e;e++)n=t[e],n instanceof Uint8Array||(n="string"==typeof n?g(n):new Uint8Array(n)),r=n.byteLength,o.set(n,s),s+=r;return o}function y(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function b(t){for(var e=1,n=0;t>e;)e<<=1,n++;return n}function _(t,e){return t[e]<<24>>24}function w(t,e){return t[e]<<8|t[e+1]}function x(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function P(){var t=new Uint8Array(2);t[0]=1;var e=new Uint16Array(t.buffer);return 1===e[0]}function k(){try{return new Function(""),!0}catch(t){return!1}}function E(t){var e,n=t.length,r=[];if("þ"===t[0]&&"ÿ"===t[1])for(e=2;n>e;e+=2)r.push(String.fromCharCode(t.charCodeAt(e)<<8|t.charCodeAt(e+1)));else for(e=0;n>e;++e){var i=lt[t.charCodeAt(e)];r.push(i?String.fromCharCode(i):t.charAt(e))}return r.join("")}function j(t){if(null==t||null==t.ptr||0==t.ptr)return"";var e=t.GetBuffer(t.GetLength());return 0==e.ptr?"":UTF8ToString(e.ptr)}function T(t){return decodeURIComponent(escape(t))}function S(t){return unescape(encodeURIComponent(t))}function L(t){for(var e in t)return!1;return!0}function R(t){return"boolean"==typeof t}function D(t){return"number"==typeof t&&(0|t)===t}function C(t){return"number"==typeof t}function I(t){return"string"==typeof t}function O(t){return t instanceof Array}function A(t){return null!=t&&null!=t.ptr&&0!=t.ptr}function N(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength}function U(t){return 32===t||9===t||13===t||10===t}function F(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}function M(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackIndex=1,this.postMessageTransfers=!0;var r=this.callbacksCapabilities=Object.create(null),i=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===this.sourceName)if(e.isReply){var a=e.callbackId;if(e.callbackId in r){var o=r[a];delete r[a],"error"in e?o.reject(e.error):o.resolve(e.data)}else s("Cannot resolve callback "+a)}else if(e.action in i){var c=i[e.action];if(e.callbackId){var l=this.sourceName,h=e.sourceName;Promise.resolve().then(function(){return c[0].call(c[1],e.data)}).then(function(t){n.postMessage({sourceName:l,targetName:h,isReply:!0,callbackId:e.callbackId,data:t})},function(t){t instanceof Error&&(t+=""),n.postMessage({sourceName:l,targetName:h,isReply:!0,callbackId:e.callbackId,error:t})})}else c[0].call(c[1],e.data)}else s("Unknown action from worker: "+e.action)}.bind(this),n.addEventListener("message",this._onComObjOnMessage)}var W="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,H={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},B={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},V={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},G={errors:0,warnings:1,infos:5},q={},z=G.warnings,X={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},K={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},J=function(){function t(t,e){this.name="PasswordException",this.message=t,this.code=e}return t.prototype=new Error,t.constructor=t,t}(),Y=function(){function t(t,e){this.name="UnknownErrorException",this.message=t,this.details=e}return t.prototype=new Error,t.constructor=t,t}(),Q=function(){function t(t){this.name="InvalidPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),Z=function(){function t(t){this.name="InvalidKeyException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),$=function(){function t(t){this.name="MissingPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),tt=function(){function t(t,e){this.name="UnexpectedResponseException",this.message=t,this.status=e}return t.prototype=new Error,t.constructor=t,t}(),et=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="NotImplementedException",t.constructor=t,t}(),nt=function(){function t(t,e){this.begin=t,this.end=e,this.message="Missing data ["+t+", "+e+")"}return t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t,t}(),rt=function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t,t}(),it=/\x00/g,at=function(){function t(t,e){this.buffer=t,this.byteLength=t.length,this.length=void 0===e?this.byteLength>>2:e,n(this.length)}function e(t){return{get:function(){var e=this.buffer,n=t<<2;return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},set:function(e){var n=this.buffer,r=t<<2;n[r]=255&e,n[r+1]=e>>8&255,n[r+2]=e>>16&255,n[r+3]=e>>>24&255}}}function n(n){for(;n>r;)Object.defineProperty(t.prototype,r,e(r)),r++}t.prototype=Object.create(null);var r=0;return t}();t.Uint32ArrayView=at;var st=[1,0,0,1,0,0],ot=function(){function t(){}var e=["rgb(",0,",",0,",",0,")"];t.makeCssRgb=function(t,n,r){return e[1]=t,e[3]=n,e[5]=r,e.join("")},t.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},t.applyTransform=function(t,e){var n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]},t.applyInverseTransform=function(t,e){var n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,i=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,i]},t.getAxialAlignedBoundingBox=function(e,n){var r=t.applyTransform(e,n),i=t.applyTransform(e.slice(2,4),n),a=t.applyTransform([e[0],e[3]],n),s=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],a[0],s[0]),Math.min(r[1],i[1],a[1],s[1]),Math.max(r[0],i[0],a[0],s[0]),Math.max(r[1],i[1],a[1],s[1])]},t.inverseTransform=function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]},t.apply3dTransform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},t.singularValueDecompose2dScale=function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],s=(n+a)/2,o=Math.sqrt((n+a)*(n+a)-4*(n*a-i*r))/2,c=s+o||1,l=s-o||1;return[Math.sqrt(c),Math.sqrt(l)]},t.normalizeRect=function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e},t.intersect=function(e,n){function r(t,e){return t-e}var i=[e[0],e[2],n[0],n[2]].sort(r),a=[e[1],e[3],n[1],n[3]].sort(r),s=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),i[0]===e[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===e[0]?(s[0]=i[1],s[2]=i[2],a[0]===e[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===e[1]?(s[1]=a[1],s[3]=a[2],s):!1):!1},t.sign=function(t){return 0>t?-1:1};var n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return t.toRoman=function(t,e){c(D(t)&&t>0,"The number should be a positive integer.");for(var r,i=[];t>=1e3;)t-=1e3,i.push("M");r=t/100|0,t%=100,i.push(n[r]),r=t/10|0,t%=10,i.push(n[10+r]),i.push(n[20+t]);var a=i.join("");return e?a.toLowerCase():a},t.appendToArray=function(t,e){Array.prototype.push.apply(t,e)},t.prependToArray=function(t,e){Array.prototype.unshift.apply(t,e)},t.extendObj=function(t,e){for(var n in e)t[n]=e[n]},t.getInheritableProperty=function(t,e){for(;t&&!t.has(e);)t=t.get("Parent");return t?t.get(e):null},t.inherit=function(t,e,n){t.prototype=Object.create(e.prototype),t.prototype.constructor=t;for(var r in n)t.prototype[r]=n[r]},t.loadScript=function(t,e){var n=document.createElement("script"),r=!1;n.setAttribute("src",t),e&&(n.onload=function(){r||e(),r=!0}),document.getElementsByTagName("head")[0].appendChild(n)},t}(),ct=function(){function t(t,e,n,r,i,a){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=i;var s,o,c,l,h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;switch(n%=360,n=0>n?n+360:n){case 180:s=-1,o=0,c=0,l=1;break;case 90:s=0,o=1,c=1,l=0;break;case 270:s=0,o=-1,c=-1,l=0;break;default:s=1,o=0,c=0,l=-1}a&&(c=-c,l=-l);var u,p,f,g;0===s?(u=Math.abs(d-t[1])*e+r,p=Math.abs(h-t[0])*e+i,f=Math.abs(t[3]-t[1])*e,g=Math.abs(t[2]-t[0])*e):(u=Math.abs(h-t[0])*e+r,p=Math.abs(d-t[1])*e+i,f=Math.abs(t[2]-t[0])*e,g=Math.abs(t[3]-t[1])*e),this.transform=[s*e,o*e,c*e,l*e,u-s*e*h-c*e*d,p-o*e*h-l*e*d],this.width=f,this.height=g,this.fontScale=e}return t.prototype={clone:function(e){e=e||{};var n="scale"in e?e.scale:this.scale,r="rotation"in e?e.rotation:this.rotation;return new t(this.viewBox.slice(),n,r,this.offsetX,this.offsetY,e.dontFlip)},convertToViewportPoint:function(t,e){return ot.applyTransform([t,e],this.transform)},convertToViewportRectangle:function(t){var e=ot.applyTransform([t[0],t[1]],this.transform),n=ot.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]},convertToPdfPoint:function(t,e){return ot.applyInverseTransform([t,e],this.transform)}},t}(),lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];!function(){function t(t){this._status=e,this._handlers=[];try{t.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(n){this._reject(n)}}if(W.Promise)return"function"!=typeof W.Promise.all&&(W.Promise.all=function(t){var e,n,r=0,i=[],a=new W.Promise(function(t,r){e=t,n=r});return t.forEach(function(t,a){r++,t.then(function(t){i[a]=t,r--,0===r&&e(i)},n)}),0===r&&e(i),a}),"function"!=typeof W.Promise.resolve&&(W.Promise.resolve=function(t){return new W.Promise(function(e){e(t)})}),"function"!=typeof W.Promise.reject&&(W.Promise.reject=function(t){return new W.Promise(function(e,n){n(t)})}),void("function"!=typeof W.Promise.prototype["catch"]&&(W.Promise.prototype["catch"]=function(t){return W.Promise.prototype.then(void 0,t)}));var e=0,n=1,r=2,a=500,s={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(t){t._status!==e&&(this.handlers=this.handlers.concat(t._handlers),t._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var t=1,e=Date.now()+t;this.handlers.length>0;){var i=this.handlers.shift(),a=i.thisPromise._status,s=i.thisPromise._value;try{a===n?"function"==typeof i.onResolve&&(s=i.onResolve(s)):"function"==typeof i.onReject&&(s=i.onReject(s),a=n,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(o){a=r,s=o}if(i.nextPromise._updateStatus(a,s),Date.now()>=e)break}return this.handlers.length>0?void setTimeout(this.runHandlers.bind(this),0):void(this.running=!1)},addUnhandledRejection:function(t){this.unhandledRejections.push({promise:t,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(t){t._unhandledRejection=!1;for(var e=0;e<this.unhandledRejections.length;e++)this.unhandledRejections[e].promise===t&&(this.unhandledRejections.splice(e),e--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var t=Date.now(),e=0;e<this.unhandledRejections.length;e++)if(t-this.unhandledRejections[e].time>a){var n=this.unhandledRejections[e].promise._value,r="Unhandled rejection: "+n;n.stack&&(r+="\n"+n.stack),i(r),this.unhandledRejections.splice(e),e--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),a))}};t.all=function(e){function n(t){s._status!==r&&(c=[],a(t))}var i,a,s=new t(function(t,e){i=t,a=e}),o=e.length,c=[];if(0===o)return i(c),s;for(var l=0,h=e.length;h>l;++l){var d=e[l],u=function(t){return function(e){s._status!==r&&(c[t]=e,o--,0===o&&i(c))}}(l);t.isPromise(d)?d.then(u,n):u(d)}return s},t.isPromise=function(t){return t&&"function"==typeof t.then},t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,i){if(this._status!==n&&this._status!==r){if(e===n&&t.isPromise(i))return void i.then(this._updateStatus.bind(this,n),this._updateStatus.bind(this,r));this._status=e,this._value=i,e===r&&0===this._handlers.length&&(this._unhandledRejection=!0,s.addUnhandledRejection(this)),s.scheduleHandlers(this)}},_resolve:function(t){this._updateStatus(n,t)},_reject:function(t){this._updateStatus(r,t)},then:function(e,n){var r=new t(function(t,e){this.resolve=t,this.reject=e});return this._handlers.push({thisPromise:this,onResolve:e,onReject:n,nextPromise:r}),s.scheduleHandlers(this),r},"catch":function(t){return this.then(void 0,t)}},W.Promise=t}(),function(){function t(){this.id="$weakmap"+e++}if(!W.WeakMap){var e=0;t.prototype={has:function(t){return!!Object.getOwnPropertyDescriptor(t,this.id)},get:function(t,e){return this.has(t)?t[this.id]:e},set:function(t,e){Object.defineProperty(t,this.id,{value:e,enumerable:!1,configurable:!0})},"delete":function(t){delete t[this.id]}},W.WeakMap=t}}();var ht=function(){function t(t,e,n){for(;t.length<n;)t+=e;return t}function e(){this.started=Object.create(null),this.times=[],this.enabled=!0}return e.prototype={time:function(t){this.enabled&&(t in this.started&&i("Timer is already running for "+t),this.started[t]=Date.now())},timeEnd:function(t){this.enabled&&(t in this.started||i("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t])},toString:function(){var e,n,r=this.times,i="",a=0;for(e=0,n=r.length;n>e;++e){var s=r[e].name;s.length>a&&(a=s.length)}for(e=0,n=r.length;n>e;++e){var o=r[e],c=o.end-o.start;i+=t(o.name," ",a)+" "+c+"ms\n"}return i}},e}(),dt=function(t,e){return"undefined"!=typeof Blob?new Blob([t],{type:e}):void i('The "Blob" constructor is not supported.')},ut=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,n,r){if(!r&&"undefined"!=typeof URL&&URL.createObjectURL){var i=dt(e,n);return URL.createObjectURL(i)}for(var a="data:"+n+";base64,",s=0,o=e.length;o>s;s+=3){var c=255&e[s],l=255&e[s+1],h=255&e[s+2],d=c>>2,u=(3&c)<<4|l>>4,p=o>s+1?(15&l)<<2|h>>6:64,f=o>s+2?63&h:64;a+=t[d]+t[u]+t[p]+t[f]}return a}}();M.prototype={on:function(t,e,n){var r=this.actionHandler;r[t]&&s('There is already an actionName called "'+t+'"'),r[t]=[e,n]},send:function(t,e,n){var r={sourceName:this.sourceName,targetName:this.targetName,action:t,data:e};this.postMessage(r,n)},sendWithPromise:function(t,e,n){var r=this.callbackIndex++,i={sourceName:this.sourceName,targetName:this.targetName,action:t,data:e,callbackId:r},a=F();this.callbacksCapabilities[r]=a;try{this.postMessage(i,n)}catch(s){a.reject(s)}return a.promise},postMessage:function(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},function(t){function e(t){return void 0!==u[t]}function n(){o.call(this),this._isInvalid=!0}function r(t){return""===t&&n.call(this),t.toLowerCase()}function i(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1===[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function a(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1===[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function s(t,s,o){function c(t){b.push(t)}var l=s||"scheme start",h=0,d="",v=!1,y=!1,b=[];t:for(;(t[h-1]!==f||0===h)&&!this._isInvalid;){var _=t[h];switch(l){case"scheme start":if(!_||!g.test(_)){if(s){c("Invalid scheme.");break t}d="",l="no scheme";continue}d+=_.toLowerCase(),l="scheme";break;case"scheme":if(_&&m.test(_))d+=_.toLowerCase();else{if(":"!==_){if(s){if(f===_)break t;c("Code point not allowed in scheme: "+_);break t}d="",h=0,l="no scheme";continue}if(this._scheme=d,d="",s)break t;e(this._scheme)&&(this._isRelative=!0),l="file"===this._scheme?"relative":this._isRelative&&o&&o._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===_?(this._query="?",l="query"):"#"===_?(this._fragment="#",l="fragment"):f!==_&&"	"!==_&&"\n"!==_&&"\r"!==_&&(this._schemeData+=i(_));break;case"no scheme":if(o&&e(o._scheme)){l="relative";continue}c("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!==_||"/"!==t[h+1]){c("Expected /, got: "+_),l="relative";continue}l="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=o._scheme),f===_){this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._username=o._username,this._password=o._password;break t}if("/"===_||"\\"===_)"\\"===_&&c("\\ is an invalid code point."),l="relative slash";else if("?"===_)this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query="?",this._username=o._username,this._password=o._password,l="query";else{if("#"!==_){var w=t[h+1],x=t[h+2];("file"!==this._scheme||!g.test(_)||":"!==w&&"|"!==w||f!==x&&"/"!==x&&"\\"!==x&&"?"!==x&&"#"!==x)&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password,this._path=o._path.slice(),this._path.pop()),l="relative path";continue}this._host=o._host,this._port=o._port,this._path=o._path.slice(),this._query=o._query,this._fragment="#",this._username=o._username,this._password=o._password,l="fragment"}break;case"relative slash":if("/"!==_&&"\\"!==_){"file"!==this._scheme&&(this._host=o._host,this._port=o._port,this._username=o._username,this._password=o._password),l="relative path";continue}"\\"===_&&c("\\ is an invalid code point."),l="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==_){c("Expected '/', got: "+_),l="authority ignore slashes";continue}l="authority second slash";break;case"authority second slash":if(l="authority ignore slashes","/"!==_){c("Expected '/', got: "+_);continue}break;case"authority ignore slashes":if("/"!==_&&"\\"!==_){l="authority";continue}c("Expected authority, got: "+_);break;case"authority":if("@"===_){v&&(c("@ already seen."),d+="%40"),v=!0;for(var P=0;P<d.length;P++){var k=d[P];if("	"!==k&&"\n"!==k&&"\r"!==k)if(":"!==k||null!==this._password){var E=i(k);null!==this._password?this._password+=E:this._username+=E}else this._password="";else c("Invalid whitespace in authority.")}d=""}else{if(f===_||"/"===_||"\\"===_||"?"===_||"#"===_){h-=d.length,d="",l="host";continue}d+=_}break;case"file host":if(f===_||"/"===_||"\\"===_||"?"===_||"#"===_){2!==d.length||!g.test(d[0])||":"!==d[1]&&"|"!==d[1]?0===d.length?l="relative path start":(this._host=r.call(this,d),d="",l="relative path start"):l="relative path";continue}"	"===_||"\n"===_||"\r"===_?c("Invalid whitespace in file host."):d+=_;break;case"host":case"hostname":if(":"!==_||y){if(f===_||"/"===_||"\\"===_||"?"===_||"#"===_){if(this._host=r.call(this,d),d="",l="relative path start",s)break t;continue}"	"!==_&&"\n"!==_&&"\r"!==_?("["===_?y=!0:"]"===_&&(y=!1),d+=_):c("Invalid code point in host/hostname: "+_)}else if(this._host=r.call(this,d),d="",l="port","hostname"===s)break t;break;case"port":if(/[0-9]/.test(_))d+=_;else{if(f===_||"/"===_||"\\"===_||"?"===_||"#"===_||s){if(""!==d){var j=parseInt(d,10);j!==u[this._scheme]&&(this._port=j+""),d=""}if(s)break t;l="relative path start";continue}"	"===_||"\n"===_||"\r"===_?c("Invalid code point in port: "+_):n.call(this)}break;case"relative path start":if("\\"===_&&c("'\\' not allowed in path."),l="relative path","/"!==_&&"\\"!==_)continue;break;case"relative path":if(f!==_&&"/"!==_&&"\\"!==_&&(s||"?"!==_&&"#"!==_))"	"!==_&&"\n"!==_&&"\r"!==_&&(d+=i(_));else{"\\"===_&&c("\\ not allowed in relative path.");var T;(T=p[d.toLowerCase()])&&(d=T),".."===d?(this._path.pop(),"/"!==_&&"\\"!==_&&this._path.push("")):"."===d&&"/"!==_&&"\\"!==_?this._path.push(""):"."!==d&&("file"===this._scheme&&0===this._path.length&&2===d.length&&g.test(d[0])&&"|"===d[1]&&(d=d[0]+":"),this._path.push(d)),d="","?"===_?(this._query="?",l="query"):"#"===_&&(this._fragment="#",l="fragment")}break;case"query":s||"#"!==_?f!==_&&"	"!==_&&"\n"!==_&&"\r"!==_&&(this._query+=a(_)):(this._fragment="#",l="fragment");break;case"fragment":f!==_&&"	"!==_&&"\n"!==_&&"\r"!==_&&(this._fragment+=_)}h++}}function o(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(t,e){void 0===e||e instanceof c||(e=new c(String(e))),this._url=t,o.call(this);var n=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");s.call(this,n,null,e)}var l=!1;try{if("function"==typeof URL&&"object"==typeof URL.prototype&&"origin"in URL.prototype){var h=new URL("b","http://a");h.pathname="c%20d",l="http://a/c%20d"===h.href}}catch(d){}if(!l){var u=Object.create(null);u.ftp=21,u.file=0,u.gopher=70,u.http=80,u.https=443,u.ws=80,u.wss=443;var p=Object.create(null);p["%2e"]=".",p[".%2e"]="..",p["%2e."]="..",p["%2e%2e"]="..";var f,g=/[a-zA-Z]/,m=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var t="";return""===this._username&&null===this._password||(t=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+t+this.host:"")+this.pathname+this._query+this._fragment},set href(t){o.call(this),s.call(this,t)},get protocol(){return this._scheme+":"},set protocol(t){this._isInvalid||s.call(this,t+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"host")},get hostname(){return this._host},set hostname(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"hostname")},get port(){return this._port},set port(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(t){!this._isInvalid&&this._isRelative&&(this._path=[],s.call(this,t,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(t){!this._isInvalid&&this._isRelative&&(this._query="?","?"===t[0]&&(t=t.slice(1)),s.call(this,t,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(t){this._isInvalid||(this._fragment="#","#"===t[0]&&(t=t.slice(1)),s.call(this,t,"fragment"))},get origin(){var t;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return t=this.host,t?this._scheme+"://"+t:""}};var v=t.URL;v&&(c.createObjectURL=function(t){return v.createObjectURL.apply(v,arguments)},c.revokeObjectURL=function(t){v.revokeObjectURL(t)}),t.URL=c}}(W),t.IDENTITY_MATRIX=st,t.OPS=q,t.VERBOSITY_LEVELS=G,t.UNSUPPORTED_FEATURES=X,t.AnnotationBorderStyleType=V,t.AnnotationFlag=B,t.AnnotationType=H,t.InvalidPDFException=Q,t.InvalidKeyException=Z,t.MessageHandler=M,t.MissingDataException=nt,t.MissingPDFException=$,t.NotImplementedException=et,t.PageViewport=ct,t.PasswordException=J,t.PasswordResponses=K,t.StatTimer=ht,t.UnexpectedResponseException=tt,t.UnknownErrorException=Y,t.Util=ot,t.XRefParseException=rt,t.arrayByteLength=m,t.arraysToBytes=v,t.assert=c,t.bytesToString=f,t.createBlob=dt,t.createPromiseCapability=F,t.createObjectURL=ut,t.deprecated=a,t.error=s,t.getLookupTableFactory=u,t.getVerbosityLevel=n,t.globalScope=W,t.info=r,t.isArray=O,t.isValidPointer=A,t.byteBufferToUTF8String=j,t.isArrayBuffer=N,t.isBool=R,t.isEmptyObj=L,t.isInt=D,t.isNum=C,t.isString=I,t.isSpace=U,t.isSameOrigin=l,t.isValidUrl=h,t.isLittleEndian=P,t.isEvalSupported=k,t.log2=b,t.readInt8=_,t.readUint16=w,t.readUint32=x,t.removeNullCharacters=p,t.setVerbosityLevel=e,t.shadow=d,t.string32=y,t.stringToBytes=g,t.stringToPDFString=E,t.stringToUTF8String=T,t.utf8StringToString=S,t.warn=i}),function(t,e){e(t.pdfjsDisplayDOMUtils={},t.pdfjsSharedUtil)}(this,function(t,e){function n(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d"),n=e.createImageData(1,1);return"undefined"!=typeof n.data.buffer}function r(t,e){var n=e&&e.url;if(t.href=t.title=n?o(n):"",n){var r=e.target;"undefined"==typeof r&&(r=a("externalLinkTarget")),t.target=d[r];var i=e.rel;"undefined"==typeof i&&(i=a("externalLinkRel")),t.rel=i}}function i(t){var e=t.indexOf("#"),n=t.indexOf("?"),r=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",r)+1,r)}function a(t){var n=e.globalScope.PDFJS;switch(t){case"pdfBug":return n?n.pdfBug:!1;case"disableAutoFetch":return n?n.disableAutoFetch:!1;case"disableStream":return n?n.disableStream:!1;case"disableRange":return n?n.disableRange:!1;case"disableFontFace":return n?n.disableFontFace:!1;case"disableCreateObjectURL":return n?n.disableCreateObjectURL:!1;case"disableWebGL":return n?n.disableWebGL:!0;case"cMapUrl":return n?n.cMapUrl:null;case"cMapPacked":return n?n.cMapPacked:!1;case"postMessageTransfers":return n?n.postMessageTransfers:!0;case"workerSrc":return n?n.workerSrc:null;case"disableWorker":return n?n.disableWorker:!1;case"maxImageSize":return n?n.maxImageSize:-1;case"imageResourcesPath":return n?n.imageResourcesPath:"";case"isEvalSupported":return n?n.isEvalSupported:!0;case"externalLinkTarget":if(!n)return h.NONE;switch(n.externalLinkTarget){case h.NONE:case h.SELF:case h.BLANK:case h.PARENT:case h.TOP:return n.externalLinkTarget}return c("PDFJS.externalLinkTarget is invalid: "+n.externalLinkTarget),n.externalLinkTarget=h.NONE,h.NONE;case"externalLinkRel":return n?n.externalLinkRel:"noreferrer";case"enableStats":return!(!n||!n.enableStats);default:throw new Error("Unknown default setting: "+t)}}function s(){var t=a("externalLinkTarget");switch(t){case h.NONE:return!1;case h.SELF:case h.BLANK:case h.PARENT:case h.TOP:return!0}}var o=e.removeNullCharacters,c=e.warn,l=function(){function t(){}var e=["ms","Moz","Webkit","O"],n=Object.create(null);return t.getProp=function(t,r){if(1===arguments.length&&"string"==typeof n[t])return n[t];r=r||document.documentElement;var i,a,s=r.style;if("string"==typeof s[t])return n[t]=t;a=t.charAt(0).toUpperCase()+t.slice(1);for(var o=0,c=e.length;c>o;o++)if(i=e[o]+a,"string"==typeof s[i])return n[t]=i;return n[t]="undefined"},t.setProp=function(t,e,n){var r=this.getProp(t);"undefined"!==r&&(e.style[r]=n)},t}(),h={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},d=["","_self","_blank","_parent","_top"];t.CustomStyle=l,t.addLinkAttributes=r,t.isExternalLinkTargetSet=s,t.getFilenameFromUrl=i,t.LinkTarget=h,t.hasCanvasTypedArrays=n,t.getDefaultSetting=a}),function(t,e){e(t.pdfjsDisplayAnnotationLayer={},t.pdfjsSharedUtil,t.pdfjsDisplayDOMUtils)}(this,function(t,e,n){function r(){}var i=e.AnnotationBorderStyleType,a=e.AnnotationType,s=e.Util,o=n.addLinkAttributes,c=n.LinkTarget,l=n.getFilenameFromUrl,h=e.warn,d=n.CustomStyle,u=n.getDefaultSetting;r.prototype={create:function(t){var e=t.data.annotationType;switch(e){case a.LINK:return new f(t);case a.TEXT:return new g(t);case a.WIDGET:var n=t.data.fieldType;switch(n){case"Tx":return new v(t);case"Ch":return new y(t)}return new m(t);case a.POPUP:return new b(t);case a.HIGHLIGHT:return new w(t);case a.UNDERLINE:return new x(t);case a.SQUIGGLY:return new P(t);case a.STRIKEOUT:return new k(t);case a.FILEATTACHMENT:return new E(t);default:return new p(t)}}};var p=function(){function t(t,e){this.isRenderable=e||!1,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,e&&(this.container=this._createContainer())}return t.prototype={_createContainer:function(){var t=this.data,e=this.page,n=this.viewport,r=document.createElement("section"),a=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];r.setAttribute("data-annotation-id",t.id);var c=s.normalizeRect([t.rect[0],e.view[3]-t.rect[1]+e.view[1],t.rect[2],e.view[3]-t.rect[3]+e.view[1]]);if(d.setProp("transform",r,"matrix("+n.transform.join(",")+")"),d.setProp("transformOrigin",r,-c[0]+"px "+-c[1]+"px"),t.borderStyle.width>0){r.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==i.UNDERLINE&&(a-=2*t.borderStyle.width,o-=2*t.borderStyle.width);var l=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(l>0||u>0){var p=l+"px / "+u+"px";d.setProp("borderRadius",r,p)}switch(t.borderStyle.style){case i.SOLID:r.style.borderStyle="solid";break;case i.DASHED:r.style.borderStyle="dashed";break;case i.BEVELED:h("Unimplemented border style: beveled");break;case i.INSET:h("Unimplemented border style: inset");break;case i.UNDERLINE:r.style.borderBottomStyle="solid"}t.color?r.style.borderColor=s.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):r.style.borderWidth=0}return r.style.left=c[0]+"px",r.style.top=c[1]+"px",r.style.width=a+"px",r.style.height=o+"px",r},_createPopup:function(t,e,n){e||(e=document.createElement("div"),e.style.height=t.style.height,e.style.width=t.style.width,t.appendChild(e));var r=new _({container:t,trigger:e,color:n.color,title:n.title,contents:n.contents,hideWrapper:!0}),i=r.render();i.style.left=t.style.width,t.appendChild(i);
},render:function(){throw new Error("Abstract method AnnotationElement.render called")}},t}(),f=function(){function t(t){p.call(this,t,!0)}return s.inherit(t,p,{render:function(){this.container.className="linkAnnotation";var t=document.createElement("a");return o(t,{url:this.data.url,target:this.data.newWindow?c.BLANK:void 0}),this.data.url||(this.data.action?this._bindNamedAction(t,this.data.action):this._bindLink(t,this.data.dest||null)),this.container.appendChild(t),this.container},_bindLink:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.navigateTo(e),!1},e&&(t.className="internalLink")},_bindNamedAction:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},t.className="internalLink"}}),t}(),g=function(){function t(t){var e=!!(t.data.hasPopup||t.data.title||t.data.contents);p.call(this,t,e)}return s.inherit(t,p,{render:function(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}}),t}(),m=function(){function t(t,e){p.call(this,t,e)}return s.inherit(t,p,{render:function(){return this.container}}),t}(),v=function(){function t(t){var e=t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue;m.call(this,t,e)}var e=["left","center","right"];return s.inherit(t,m,{render:function(){this.container.className="textWidgetAnnotation";var t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea"),t.textContent=this.data.fieldValue):(t=document.createElement("input"),t.type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){var n=this.data.rect[2]-this.data.rect[0],r=n/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing="calc("+r+"px - 1ch)"}}else{t=document.createElement("div"),t.textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";var i=null;this.data.fontRefName&&(i=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(t,i)}return null!==this.data.textAlignment&&(t.style.textAlign=e[this.data.textAlignment]),this.container.appendChild(t),this.container},_setTextStyle:function(t,e){var n=t.style;if(n.fontSize=this.data.fontSize+"px",n.direction=this.data.fontDirection<0?"rtl":"ltr",e){n.fontWeight=e.black?e.bold?"900":"bold":e.bold?"bold":"normal",n.fontStyle=e.italic?"italic":"normal";var r=e.loadedName?'"'+e.loadedName+'", ':"",i=e.fallbackName||"Helvetica, sans-serif";n.fontFamily=r+i}}}),t}(),y=function(){function t(t){m.call(this,t,t.renderInteractiveForms)}return s.inherit(t,m,{render:function(){this.container.className="choiceWidgetAnnotation";var t=document.createElement("select");t.disabled=this.data.readOnly,this.data.combo||(t.size=this.data.options.length,this.data.multiSelect&&(t.multiple=!0));for(var e=0,n=this.data.options.length;n>e;e++){var r=this.data.options[e],i=document.createElement("option");i.textContent=r.displayValue,i.value=r.exportValue,this.data.fieldValue.indexOf(r.displayValue)>=0&&i.setAttribute("selected",!0),t.appendChild(i)}return this.container.appendChild(t),this.container}}),t}(),b=function(){function t(t){var e=!(!t.data.title&&!t.data.contents);p.call(this,t,e)}return s.inherit(t,p,{render:function(){this.container.className="popupAnnotation";var t='[data-annotation-id="'+this.data.parentId+'"]',e=this.layer.querySelector(t);if(!e)return this.container;var n=new _({container:this.container,trigger:e,color:this.data.color,title:this.data.title,contents:this.data.contents}),r=parseFloat(e.style.left),i=parseFloat(e.style.width);return d.setProp("transformOrigin",this.container,-(r+i)+"px -"+e.style.top),this.container.style.left=r+i+"px",this.container.appendChild(n.render()),this.container}}),t}(),_=function(){function t(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}var e=.7;return t.prototype={render:function(){var t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);var n=document.createElement("div");n.className="popup";var r=this.color;if(r){var i=e*(255-r[0])+r[0],a=e*(255-r[1])+r[1],o=e*(255-r[2])+r[2];n.style.backgroundColor=s.makeCssRgb(0|i,0|a,0|o)}var c=this._formatContents(this.contents),l=document.createElement("h1");return l.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),n.addEventListener("click",this._hide.bind(this,!0)),n.appendChild(l),n.appendChild(c),t.appendChild(n),t},_formatContents:function(t){for(var e=document.createElement("p"),n=t.split(/(?:\r\n?|\n)/),r=0,i=n.length;i>r;++r){var a=n[r];e.appendChild(document.createTextNode(a)),i-1>r&&e.appendChild(document.createElement("br"))}return e},_toggle:function(){this.pinned?this._hide(!0):this._show(!0)},_show:function(t){t&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)},_hide:function(t){t&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}},t}(),w=function(){function t(t){var e=!!(t.data.hasPopup||t.data.title||t.data.contents);p.call(this,t,e)}return s.inherit(t,p,{render:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),t}(),x=function(){function t(t){var e=!!(t.data.hasPopup||t.data.title||t.data.contents);p.call(this,t,e)}return s.inherit(t,p,{render:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),t}(),P=function(){function t(t){var e=!!(t.data.hasPopup||t.data.title||t.data.contents);p.call(this,t,e)}return s.inherit(t,p,{render:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),t}(),k=function(){function t(t){var e=!!(t.data.hasPopup||t.data.title||t.data.contents);p.call(this,t,e)}return s.inherit(t,p,{render:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),t}(),E=function(){function t(t){p.call(this,t,!0),this.filename=l(t.data.file.filename),this.content=t.data.file.content}return s.inherit(t,p,{render:function(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container},_download:function(){return this.downloadManager?void this.downloadManager.downloadData(this.content,this.filename,""):void h("Download cannot be started due to unavailable download manager")}}),t}(),j=function(){return{render:function(t){for(var e=new r,n=0,i=t.annotations.length;i>n;n++){var a=t.annotations[n];if(a){var s={data:a,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||u("imageResourcesPath"),renderInteractiveForms:t.renderInteractiveForms||!1},o=e.create(s);o.isRenderable&&t.div.appendChild(o.render())}}},update:function(t){for(var e=0,n=t.annotations.length;n>e;e++){var r=t.annotations[e],i=t.div.querySelector('[data-annotation-id="'+r.id+'"]');i&&d.setProp("transform",i,"matrix("+t.viewport.transform.join(",")+")")}t.div.removeAttribute("hidden")}}}();t.AnnotationLayer=j}),function(t,e){e(t.pdfjsDisplayAPI={},t.pdfjsSharedUtil,t.pdfjsDisplayDOMUtils)}(this,function(t,r,i,a){function s(t,e,n,r){var i=new O;arguments.length>1&&_("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),e&&(e instanceof A||(e=Object.create(e),e.length=t.length,e.initialData=t.initialData,e.abort||(e.abort=function(){})),t=Object.create(t),t.range=e),i.onPassword=n||null,i.onProgress=r||null;var a;"string"==typeof t?a={url:t}:E(t)?a={data:t}:t instanceof A?a={range:t}:("object"!=typeof t&&b("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),t.url||t.data||t.range||b("Invalid parameter object: need either .data, .range or .url"),a=t);var s={},c=null,l=null;for(var h in a)if("url"!==h||"undefined"==typeof window)if("range"!==h)if("worker"!==h)if("data"!==h||a[h]instanceof Uint8Array)s[h]=a[h];else{var d=a[h];"string"==typeof d?s[h]=j(d):"object"!=typeof d||null===d||isNaN(d.length)?E(d)?s[h]=new Uint8Array(d):b("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property."):s[h]=new Uint8Array(d)}else l=a[h];else c=a[h];else s[h]=new URL(a[h],window.location).href;s.rangeChunkSize=s.rangeChunkSize||R,l||(l=new F,i._worker=l);var u=i.docId;return l.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");return i.beginFetchDocument&&i.beginFetchDocument(),o(l,s,c,u).then(function(t){if(i.destroyed)throw new Error("Loading aborted");var e=l.messageHandler,n=new M(e,i,c);i._transport=n,e.send("Ready",null)})})["catch"](i._capability.reject),i}function o(t,e,n,r){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(e.disableAutoFetch=L("disableAutoFetch"),e.disableStream=L("disableStream"),e.chunkedViewerLoading=!!n,n&&(e.length=n.length,e.initialData=n.initialData),t.messageHandler.sendWithPromise("GetDocRequest",{docId:r,source:e,disableRange:L("disableRange"),maxImageSize:L("maxImageSize"),cMapUrl:L("cMapUrl"),cMapPacked:L("cMapPacked"),disableFontFace:L("disableFontFace"),disableCreateObjectURL:L("disableCreateObjectURL"),postMessageTransfers:L("postMessageTransfers")&&!C}).then(function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e}))}var c,l=r.InvalidPDFException,h=r.InvalidKeyException,d=r.MessageHandler,u=r.MissingPDFException,p=r.PageViewport,f=r.PasswordResponses,g=r.PasswordException,m=r.StatTimer,v=r.UnexpectedResponseException,y=(r.UnknownErrorException,r.Util,r.createPromiseCapability),b=r.error,_=r.deprecated,w=r.getVerbosityLevel,x=r.info,P=r.isInt,k=r.isArray,E=r.isArrayBuffer,j=(r.isSameOrigin,r.stringToBytes),T=(r.globalScope,r.warn),S=null,L=i.getDefaultSetting,R=65536,D=!1,C=!1,I=null,O=function(){function t(){this._capability=y(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var e=0;return t.prototype={get promise(){return this._capability.promise},destroy:function(){this.destroyed=!0;var t=this._transport?this._transport.destroy():Promise.resolve();return t.then(function(){this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}.bind(this))},then:function(t,e){return this.promise.then.apply(this.promise,arguments)}},t}(),A=function(){function t(t,e){this.length=t,this.initialData=e,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=y()}return t.prototype={addRangeListener:function(t){this._rangeListeners.push(t)},addProgressListener:function(t){this._progressListeners.push(t)},addProgressiveReadListener:function(t){this._progressiveReadListeners.push(t)},onDataRange:function(t,e){for(var n=this._rangeListeners,r=0,i=n.length;i>r;++r)n[r](t,e)},onDataProgress:function(t){this._readyCapability.promise.then(function(){for(var e=this._progressListeners,n=0,r=e.length;r>n;++n)e[n](t)}.bind(this))},onDataProgressiveRead:function(t){this._readyCapability.promise.then(function(){for(var e=this._progressiveReadListeners,n=0,r=e.length;r>n;++n)e[n](t)}.bind(this))},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(t,e){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},t}(),N=function(){function t(t,e,n){this.pdfInfo=t,this.transport=e,this.loadingTask=n}return t.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(t){return this.transport.getPage(t)},getPageIndex:function(t){return this.transport.getPageIndex(t)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(t){return this.transport.getDestination(t)},getPageLabels:function(){return this.transport.getPageLabels()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}},t}(),U=function(){function t(t,e,n){this.pageIndex=t,this.pageInfo=e,this.transport=n,this.stats=new m,this.stats.enabled=L("enableStats"),this.commonObjs=n.commonObjs,this.objs=null,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return t.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(t,e){return arguments.length<2&&(e=this.rotate),new p(this.view,t,e,0,0)},getAnnotations:function(t){var e=t&&t.intent||null;return this.annotationsPromise&&this.annotationsIntent===e||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,e),this.annotationsIntent=e),this.annotationsPromise},render:function(t){function e(t){n(null,t)}function n(t,e){for(var n=-1,n=0;n<a.renderTasks.length;n++)if(a.renderTasks[n].taskIndex=e){a.renderTasks.splice(n,1);break}t?s.capability.reject(t):s.capability.resolve(),r.timeEnd("Rendering"),r.timeEnd("Overall")}var r=this.stats;this.pageIndex;r.time("Overall"),this.pendingCleanup=!1;var i="print"===t.intent?"print":"display";this.intentStates[i]||(this.intentStates[i]=Object.create(null));var a=this.intentStates[i],s=new B(n,t,this.objs,this.commonObjs,a.operatorList,this.pageNumber,e);s.useRequestAnimationFrame="print"!==i,a.renderTasks||(a.renderTasks=[]),a.renderTasks.push(s);var o=s.task;if(t.continueCallback&&(_("render is used with continueCallback parameter"),o.onContinue=t.continueCallback),a.renderTasks)var c=a.renderTasks.length+1;s.taskIndex=c,this.stats.time("Rendering"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:i,width:t.canvasContext.canvas.width,height:t.canvasContext.canvas.height,rotation:(t.viewport.rotation-this.rotate+360)%360,renderTaskIndex:c});return o},getTextContent:function(t){return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!(!t||t.normalizeWhitespace!==!0),combineTextItems:!t||t.disableCombineTextItems!==!0})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach(function(e){if("oplist"!==e){var n=this.intentStates[e];n.renderTasks.forEach(function(e){var n=e.capability.promise["catch"](function(){});t.push(n),e.cancel()})}},this),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)},destroy:function(){_("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(t){var e=this.intentStates[t];return 0!==e.renderTasks.length||e.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(t){delete this.intentStates[t]},this),this.objs&&this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(t,e,n){for(var r=this.intentStates[e],i=0;i<r.renderTasks.length;i++)if(r.renderTasks[i].taskIndex=n){r.renderTasks[i].render(t,n);break}},_renderPageChunk:function(t,e){var n,r,i=this.intentStates[e];for(n=0,r=t.length;r>n;n++)i.operatorList.fnArray.push(t.fnArray[n]),i.operatorList.argsArray.push(t.argsArray[n]);for(i.operatorList.lastChunk=t.lastChunk,n=0;n<i.renderTasks.length;n++)i.renderTasks[n].operatorListChanged();t.lastChunk&&(i.receivingOperatorList=!1,this._tryCleanup())}},t}(),F=function(){function t(){return"undefined"!=typeof c?c:L("workerSrc")?L("workerSrc"):void b("No PDFJS.workerSrc specified")}function e(){var t;if(!i)if(i=y(),"function"==typeof a)a(["pdfjs/core/network","pdfjs/core/worker"],function(e,n){t=n.WorkerMessageHandler,i.resolve(t)});else{if("function"!=typeof require)throw new Error("AMD or CommonJS must be used to load fake worker.");var e=require("../core/worker.js");t=e.WorkerMessageHandler,i.resolve(t)}return i.promise}function n(t){this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}function r(t){this.name=t,this.destroyed=!1,this._readyCapability=y(),this._port=null,this._webWorker=null,this._messageHandler=null,this._initialize()}var i,s=0;return n.prototype={postMessage:function(t,e){function n(t){if("object"!=typeof t||null===t)return t;if(r.has(t))return r.get(t);var i,a;if((a=t.buffer)&&E(a)){var s=e&&e.indexOf(a)>=0;return i=t===a?t:s?new t.constructor(a,t.byteOffset,t.byteLength):new t.constructor(t),r.set(t,i),i}i=k(t)?[]:{},r.set(t,i);for(var o in t){for(var c,l=t;!(c=Object.getOwnPropertyDescriptor(l,o));)l=Object.getPrototypeOf(l);"undefined"!=typeof c.value&&"function"!=typeof c.value&&(i[o]=n(c.value))}return i}if(!this._defer)return void this._listeners.forEach(function(e){e.call(this,{data:t})},this);var r=new WeakMap,i={data:n(t)};this._deferred.then(function(){this._listeners.forEach(function(t){t.call(this,i)},this)}.bind(this))},addEventListener:function(t,e){this._listeners.push(e)},removeEventListener:function(t,e){var n=this._listeners.indexOf(e);this._listeners.splice(n,1)},terminate:function(){this._listeners=[]}},r.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initialize:function(){if(!D&&!L("disableWorker")&&"undefined"!=typeof Worker){var e=t();try{var n=null;I?n=I:(n=new Worker(e),I=n);var r=new d("main","worker",n),i=function(){n.removeEventListener("error",a),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()}.bind(this),a=function(t){this._webWorker||i()}.bind(this);n.addEventListener("error",a),r.on("test",function(t){if(n.removeEventListener("error",a),this.destroyed)return void i();var e=t&&t.supportTypedArray;e?(this._messageHandler=r,this._port=n,this._webWorker=n,t.supportTransfers||(C=!0),this._readyCapability.resolve(),r.send("configure",{verbosity:w()})):(this._setupFakeWorker(),r.destroy(),n.terminate())}.bind(this)),r.on("console_log",function(t){console.log.apply(console,t)}),r.on("console_error",function(t){console.error.apply(console,t)}),r.on("ready",function(t){if(n.removeEventListener("error",a),this.destroyed)return void i();try{s()}catch(e){this._setupFakeWorker()}}.bind(this));var s=function(){var t=L("postMessageTransfers")&&!C,e=new Uint8Array([t?255:0]);try{r.send("test",e,[e.buffer])}catch(n){x("Cannot use postMessage transfers"),e[0]=0,r.send("test",e)}};return void s()}catch(o){x("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){D||L("disableWorker")||(T("Setting up fake worker."),D=!0),e().then(function(t){if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));var e=Uint8Array!==Float32Array,r=new n(e);this._port=r;var i="fake"+s++,a=new d(i+"_worker",i,r);t.setup(a,r);var o=new d(i,i+"_worker",r);this._messageHandler=o,this._readyCapability.resolve()}.bind(this))},destroy:function(){this.destroyed=!0,this._webWorker,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},r}(),M=function(){function t(t,e,n){this.messageHandler=t,this.loadingTask=e,this.pdfDataRangeTransport=n,this.commonObjs=null,this.fontLoader=null,this.destroyed=!1,this.destroyCapability=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=y(),this.setupMessageHandler()}return t.prototype={destroy:function(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=y();var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[];var e=this,n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(function(){e.pdfDataRangeTransport&&(e.pdfDataRangeTransport.abort(),e.pdfDataRangeTransport=null),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){function t(t){e.send("UpdatePassword",t)}var e=this.messageHandler;e.on("GetDoc",function(t){if(t.pdfInfo){var e=t.pdfInfo;this.numPages=t.pdfInfo.numPages;var n=this.loadingTask,r=new N(e,this,n);this.pdfDocument=r,n._capability.resolve(r)}},this),e.on("GetImageData",function(t){if(!this.destroyed){var e=this.pageCache[t.pageIndex];e.stats.timeEnd("Page Request"),e._startRenderPage(t.imgArray,t.intent,t.renderTaskIndex)}},this),e.on("DataLoaded",function(t){this.downloadInfoCapability.resolve(t)},this),e.on("NeedPassword",function(e){var n=this.loadingTask;return n.onPassword?n.onPassword(t,f.NEED_PASSWORD):void n._capability.reject(new g(e.message,e.code))},this),e.on("IncorrectPassword",function(e){var n=this.loadingTask;return n.onPassword?n.onPassword(t,f.INCORRECT_PASSWORD):void n._capability.reject(new g(e.message,e.code))},this),e.on("InvalidPDF",function(t){this.loadingTask._capability.reject(new l(t.message))},this),e.on("InvalidKey",function(t){this.loadingTask._capability.reject(new h(t.message))},this),e.on("MissingPDF",function(t){this.loadingTask._capability.reject(new u(t.message))},this),e.on("UnexpectedResponse",function(t){this.loadingTask._capability.reject(new v(t.message,t.status))},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(t,e){if(!P(t)||0>=t||t>this.numPages)return Promise.reject(new Error("Invalid page request"));var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(t){if(this.destroyed)throw new Error("Transport destroyed");var e=new U(n,t,this);return this.pageCache[n]=e,e}.bind(this));return this.pagePromises[n]=r,r},getPageIndex:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})["catch"](function(t){return Promise.reject(new Error(t))})},getAnnotations:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(t){return this.messageHandler.sendWithPromise("GetDestination",{id:t})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){return{info:t[0],metadata:t[1]?new S(t[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var t=0,e=this.pageCache.length;e>t;t++){var n=this.pageCache[t];n&&n.cleanup()}this.commonObjs.clear(),this.fontLoader.clear()}.bind(this))}},t}(),W=function(){function t(t){this._internalRenderTask=t,this.onContinue=null}return t.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(t,e){return this.promise.then.apply(this.promise,arguments)}},t}(),H=function(){function t(){this.cache=Object.create(null)}return t.prototype={getCanvas:function(t,e,n,r){var i;if(void 0!==this.cache[t])i=this.cache[t],i.canvas.width=e,i.canvas.height=n,i.context.setTransform(1,0,0,1,0,0);else{var a=this.createScratchCanvas(e,n),s=a.getContext("2d");r&&addContextCurrentTransform(s),this.cache[t]=i={canvas:a,context:s}}return i},clear:function(){for(var t in this.cache){var e=this.cache[t];e.canvas.width=0,e.canvas.height=0,delete this.cache[t]}},createScratchCanvas:function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}},t}(),B=function(){function t(t,e,n,r,i,a,s){this.callback=t,this.scaleback=s,this.params=e,this.cancelled=!1,this.capability=y(),this.task=new W(this),this.cachedCanvases=new H}return t.prototype={render:function(t,e){for(var n=this.params.canvasContext,r=this.cachedCanvases.getCanvas("inlineImage",n.canvas.width,n.canvas.height),i=r.context,a=i.createImageData(n.canvas.width,n.canvas.height),s=new Uint8Array(t),o=0;o<s.length;o++)a.data[o]=s[o];i.putImageData(a,0,0);var c=r.canvas;n.drawImage(c,0,0),this.cachedCanvases.clear(),this.scaleback(e)},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")}},t}();"undefined"!=typeof e&&(t.version=e),"undefined"!=typeof n&&(t.build=n),t.getDocument=s,t.PDFDataRangeTransport=A,t.PDFWorker=F,t.PDFDocumentProxy=N,t.PDFPageProxy=U}),function(t,e){e(t.pdfjsDisplayTextLayer={},t.pdfjsSharedUtil,t.pdfjsDisplayDOMUtils)}(this,function(t,e,n){var r=e.Util,i=e.createPromiseCapability,a=n.CustomStyle,s=n.getDefaultSetting,o=function(){function t(t){return!p.test(t)}function e(e,n,i){var a=document.createElement("div"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:"",paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(a),t(n.str))return o.isWhitespace=!0,void e._textDivProperties.set(a,o);var c=r.transform(e._viewport.transform,n.transform),l=Math.atan2(c[1],c[0]),h=i[n.fontName];h.vertical&&(l+=Math.PI/2);var d=Math.sqrt(c[2]*c[2]+c[3]*c[3]),u=d;h.ascent?u=h.ascent*u:h.descent&&(u=(1+h.descent)*u);var p,f;if(0===l?(p=c[4],f=c[5]-u):(p=c[4]+u*Math.sin(l),f=c[5]-u*Math.cos(l)),a.style.left=p+"px",a.style.top=f+"px",a.style.fontSize=d+"px",a.style.fontFamily=h.fontFamily,a.textContent=n.str,s("pdfBug")&&(a.dataset.fontName=n.fontName),0!==l&&(o.angle=l*(180/Math.PI)),n.str.length>1&&(h.vertical?o.canvasWidth=n.height*e._viewport.scale:o.canvasWidth=n.width*e._viewport.scale),e._textDivProperties.set(a,o),e._enhanceTextSelection){var g=1,m=0;0!==l&&(g=Math.cos(l),m=Math.sin(l));var v,y,b=(h.vertical?n.height:n.width)*e._viewport.scale,_=d;0!==l?(v=[g,m,-m,g,p,f],y=r.getAxialAlignedBoundingBox([0,0,b,_],v)):y=[p,f,p+b,f+_],e._bounds.push({left:y[0],top:y[1],right:y[2],bottom:y[3],div:a,size:[b,_],m:v})}}function n(t){if(!t._canceled){var e=t._container,n=t._textDivs,r=t._capability,i=n.length;if(i>u)return t._renderingDone=!0,void r.resolve();var s=document.createElement("canvas");s.mozOpaque=!0;for(var o,c,l=s.getContext("2d",{alpha:!1}),h=0;i>h;h++){var d=n[h],p=t._textDivProperties.get(d);if(!p.isWhitespace){var f=d.style.fontSize,g=d.style.fontFamily;f===o&&g===c||(l.font=f+" "+g,o=f,c=g);var m=l.measureText(d.textContent).width;e.appendChild(d);var v="";0!==p.canvasWidth&&m>0&&(p.scale=p.canvasWidth/m,v="scaleX("+p.scale+")"),0!==p.angle&&(v="rotate("+p.angle+"deg) "+v),""!==v&&(p.originalTransform=v,a.setProp("transform",d,v)),t._textDivProperties.set(d,p)}}t._renderingDone=!0,r.resolve()}}function o(t){for(var e=t._bounds,n=t._viewport,i=c(n.width,n.height,e),a=0;a<i.length;a++){var s=e[a].div,o=t._textDivProperties.get(s);if(0!==o.angle){var l=i[a],h=e[a],d=h.m,u=d[0],p=d[1],f=[[0,0],[0,h.size[1]],[h.size[0],0],h.size],g=new Float64Array(64);f.forEach(function(t,e){var n=r.applyTransform(t,d);g[e+0]=u&&(l.left-n[0])/u,g[e+4]=p&&(l.top-n[1])/p,g[e+8]=u&&(l.right-n[0])/u,g[e+12]=p&&(l.bottom-n[1])/p,g[e+16]=p&&(l.left-n[0])/-p,g[e+20]=u&&(l.top-n[1])/u,g[e+24]=p&&(l.right-n[0])/-p,g[e+28]=u&&(l.bottom-n[1])/u,g[e+32]=u&&(l.left-n[0])/-u,g[e+36]=p&&(l.top-n[1])/-p,g[e+40]=u&&(l.right-n[0])/-u,g[e+44]=p&&(l.bottom-n[1])/-p,g[e+48]=p&&(l.left-n[0])/p,g[e+52]=u&&(l.top-n[1])/-u,g[e+56]=p&&(l.right-n[0])/p,g[e+60]=u&&(l.bottom-n[1])/-u});var m=function(t,e,n){for(var r=0,i=0;n>i;i++){var a=t[e++];a>0&&(r=r?Math.min(a,r):a)}return r},v=1+Math.min(Math.abs(u),Math.abs(p));o.paddingLeft=m(g,32,16)/v,o.paddingTop=m(g,48,16)/v,o.paddingRight=m(g,0,16)/v,o.paddingBottom=m(g,16,16)/v,t._textDivProperties.set(s,o)}else o.paddingLeft=e[a].left-i[a].left,o.paddingTop=e[a].top-i[a].top,o.paddingRight=i[a].right-e[a].right,o.paddingBottom=i[a].bottom-e[a].bottom,t._textDivProperties.set(s,o)}}function c(t,e,n){var r=n.map(function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}});l(t,r);var i=new Array(n.length);return r.forEach(function(t){var e=t.index;i[e]={left:t.x1New,top:0,right:t.x2New,bottom:0}}),n.map(function(e,n){var a=i[n],s=r[n];s.x1=e.top,s.y1=t-a.right,s.x2=e.bottom,s.y2=t-a.left,s.index=n,s.x1New=void 0,s.x2New=void 0}),l(e,r),r.forEach(function(t){var e=t.index;i[e].top=t.x1New,i[e].bottom=t.x2New}),i}function l(t,e){e.sort(function(t,e){return t.x1-e.x1||t.index-e.index});var n={x1:-(1/0),y1:-(1/0),x2:0,y2:1/0,index:-1,x1New:0,x2New:0},r=[{start:-(1/0),end:1/0,boundary:n}];e.forEach(function(t){for(var e=0;e<r.length&&r[e].end<=t.y1;)e++;for(var n=r.length-1;n>=0&&r[n].start>=t.y2;)n--;var i,a,s,o,c=-(1/0);for(s=e;n>=s;s++){i=r[s],a=i.boundary;var l;l=a.x2>t.x1?a.index>t.index?a.x1New:t.x1:void 0===a.x2New?(a.x2+t.x1)/2:a.x2New,l>c&&(c=l)}for(t.x1New=c,s=e;n>=s;s++)i=r[s],a=i.boundary,void 0===a.x2New?a.x2>t.x1?a.index>t.index&&(a.x2New=a.x2):a.x2New=c:a.x2New>c&&(a.x2New=Math.max(c,a.x2));var h=[],d=null;for(s=e;n>=s;s++){i=r[s],a=i.boundary;var u=a.x2>t.x2?a:t;d===u?h[h.length-1].end=i.end:(h.push({start:i.start,end:i.end,boundary:u}),d=u)}for(r[e].start<t.y1&&(h[0].start=t.y1,h.unshift({start:r[e].start,end:t.y1,boundary:r[e].boundary})),t.y2<r[n].end&&(h[h.length-1].end=t.y2,h.push({start:t.y2,end:r[n].end,boundary:r[n].boundary})),s=e;n>=s;s++)if(i=r[s],a=i.boundary,void 0===a.x2New){var p=!1;for(o=e-1;!p&&o>=0&&r[o].start>=a.y1;o--)p=r[o].boundary===a;for(o=n+1;!p&&o<r.length&&r[o].end<=a.y2;o++)p=r[o].boundary===a;for(o=0;!p&&o<h.length;o++)p=h[o].boundary===a;p||(a.x2New=c)}Array.prototype.splice.apply(r,[e,n-e+1].concat(h))}),r.forEach(function(e){var n=e.boundary;void 0===n.x2New&&(n.x2New=Math.max(t,n.x2))})}function h(t,e,n,r,a){this._textContent=t,this._container=e,this._viewport=n,this._textDivs=r||[],this._textDivProperties=new WeakMap,this._renderingDone=!1,
this._canceled=!1,this._capability=i(),this._renderTimer=null,this._bounds=[],this._enhanceTextSelection=!!a,this._expanded=!1}function d(t){var e=new h(t.textContent,t.container,t.viewport,t.textDivs,t.enhanceTextSelection);return e._render(t.timeout),e}var u=1e5,p=/\S/;return h.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_render:function(t){for(var r=this._textContent.items,i=this._textContent.styles,a=0,s=r.length;s>a;a++)e(this,r[a],i);if(t){var o=this;this._renderTimer=setTimeout(function(){n(o),o._renderTimer=null},t)}else n(this)},expandTextDivs:function(t){if(this._enhanceTextSelection&&this._renderingDone){this._expanded||(o(this),this._expanded=!0,this._bounds.length=0);for(var e=0,n=this._textDivs.length;n>e;e++){var r=this._textDivs[e],i=this._textDivProperties.get(r);if(t){var s="";1!==i.scale&&(s="scaleX("+i.scale+")"),0!==i.angle&&(s="rotate("+i.angle+"deg) "+s),0!==i.paddingLeft&&(r.style.paddingLeft=i.paddingLeft/i.scale+"px",s+=" translateX("+-i.paddingLeft/i.scale+"px)"),0!==i.paddingTop&&(r.style.paddingTop=i.paddingTop+"px",s+=" translateY("+-i.paddingTop+"px)"),0!==i.paddingRight&&(r.style.paddingRight=i.paddingRight/i.scale+"px"),0!==i.paddingBottom&&(r.style.paddingBottom=i.paddingBottom+"px"),""!==s&&a.setProp("transform",r,s)}else r.style.padding=0,a.setProp("transform",r,i.originalTransform)}}}},d}();t.renderTextLayer=o}),function(t,e){e(t.pdfjsDisplayGlobal={},t.pdfjsSharedUtil,t.pdfjsDisplayDOMUtils,t.pdfjsDisplayAPI,t.pdfjsDisplayAnnotationLayer,t.pdfjsDisplayTextLayer)}(this,function(t,r,i,a,s,o){var c=r.globalScope,l=r.deprecated,h=r.warn,d=i.LinkTarget,u="undefined"==typeof window;c.PDFJS||(c.PDFJS={});var p=c.PDFJS;"undefined"!=typeof e&&(p.version=e),"undefined"!=typeof n&&(p.build=n),p.pdfBug=!1,void 0!==p.verbosity&&r.setVerbosityLevel(p.verbosity),delete p.verbosity,Object.defineProperty(p,"verbosity",{get:function(){return r.getVerbosityLevel()},set:function(t){r.setVerbosityLevel(t)},enumerable:!0,configurable:!0}),p.VERBOSITY_LEVELS=r.VERBOSITY_LEVELS,p.OPS=r.OPS,p.UNSUPPORTED_FEATURES=r.UNSUPPORTED_FEATURES,p.isValidUrl=r.isValidUrl,p.shadow=r.shadow,p.createBlob=r.createBlob,p.createObjectURL=function(t,e){return r.createObjectURL(t,e,p.disableCreateObjectURL)},Object.defineProperty(p,"isLittleEndian",{configurable:!0,get:function(){var t=r.isLittleEndian();return r.shadow(p,"isLittleEndian",t)}}),p.removeNullCharacters=r.removeNullCharacters,p.PasswordResponses=r.PasswordResponses,p.PasswordException=r.PasswordException,p.UnknownErrorException=r.UnknownErrorException,p.InvalidPDFException=r.InvalidPDFException,p.InvalidKeyException=r.InvalidKeyException,p.MissingPDFException=r.MissingPDFException,p.UnexpectedResponseException=r.UnexpectedResponseException,p.Util=r.Util,p.PageViewport=r.PageViewport,p.createPromiseCapability=r.createPromiseCapability,p.maxImageSize=void 0===p.maxImageSize?-1:p.maxImageSize,p.cMapUrl=void 0===p.cMapUrl?null:p.cMapUrl,p.cMapPacked=void 0===p.cMapPacked?!1:p.cMapPacked,p.disableFontFace=void 0===p.disableFontFace?!1:p.disableFontFace,p.imageResourcesPath=void 0===p.imageResourcesPath?"":p.imageResourcesPath,p.disableWorker=void 0===p.disableWorker?!1:p.disableWorker,p.workerSrc=void 0===p.workerSrc?null:p.workerSrc,p.disableRange=void 0===p.disableRange?!1:p.disableRange,p.disableStream=void 0===p.disableStream?!1:p.disableStream,p.disableAutoFetch=void 0===p.disableAutoFetch?!1:p.disableAutoFetch,p.pdfBug=void 0===p.pdfBug?!1:p.pdfBug,p.postMessageTransfers=void 0===p.postMessageTransfers?!0:p.postMessageTransfers,p.disableCreateObjectURL=void 0===p.disableCreateObjectURL?!0:p.disableCreateObjectURL,p.disableWebGL=void 0===p.disableWebGL?!0:p.disableWebGL,p.externalLinkTarget=void 0===p.externalLinkTarget?d.NONE:p.externalLinkTarget,p.externalLinkRel=void 0===p.externalLinkRel?"noreferrer":p.externalLinkRel,p.isEvalSupported=void 0===p.isEvalSupported?!0:p.isEvalSupported,p.renderInteractiveForms=void 0===p.renderInteractiveForms?!1:p.renderInteractiveForms;var f=p.openExternalLinksInNewWindow;delete p.openExternalLinksInNewWindow,Object.defineProperty(p,"openExternalLinksInNewWindow",{get:function(){return p.externalLinkTarget===d.BLANK},set:function(t){return t&&l('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),p.externalLinkTarget!==d.NONE?void h("PDFJS.externalLinkTarget is already initialized"):void(p.externalLinkTarget=t?d.BLANK:d.NONE)},enumerable:!0,configurable:!0}),f&&(p.openExternalLinksInNewWindow=f),p.getDocument=a.getDocument,p.PDFDataRangeTransport=a.PDFDataRangeTransport,p.PDFWorker=a.PDFWorker,Object.defineProperty(p,"hasCanvasTypedArrays",{configurable:!0,get:function(){var t=i.hasCanvasTypedArrays();return r.shadow(p,"hasCanvasTypedArrays",t)}}),p.CustomStyle=i.CustomStyle,p.LinkTarget=d,p.addLinkAttributes=i.addLinkAttributes,p.getFilenameFromUrl=i.getFilenameFromUrl,p.isExternalLinkTargetSet=i.isExternalLinkTargetSet,p.AnnotationLayer=s.AnnotationLayer,p.renderTextLayer=o.renderTextLayer,p.Metadata=null,p.SVGGraphics=null,p.UnsupportedManager=a._UnsupportedManager,t.globalScope=c,t.isWorker=u,t.PDFJS=c.PDFJS})}).call(r),t.PDFJS=r.pdfjsDisplayGlobal.PDFJS,t.build=r.pdfjsDisplayAPI.build,t.version=r.pdfjsDisplayAPI.version,t.getDocument=r.pdfjsDisplayAPI.getDocument,t.PDFDataRangeTransport=r.pdfjsDisplayAPI.PDFDataRangeTransport,t.PDFWorker=r.pdfjsDisplayAPI.PDFWorker,t.renderTextLayer=r.pdfjsDisplayTextLayer.renderTextLayer,t.AnnotationLayer=r.pdfjsDisplayAnnotationLayer.AnnotationLayer,t.CustomStyle=r.pdfjsDisplayDOMUtils.CustomStyle,t.PasswordResponses=r.pdfjsSharedUtil.PasswordResponses,t.InvalidPDFException=r.pdfjsSharedUtil.InvalidPDFException,t.MissingPDFException=r.pdfjsSharedUtil.MissingPDFException,t.InvalidKeyException=r.pdfjsSharedUtil.InvalidKeyException,t.SVGGraphics=null,t.UnexpectedResponseException=r.pdfjsSharedUtil.UnexpectedResponseException,t.OPS=r.pdfjsSharedUtil.OPS,t.UNSUPPORTED_FEATURES=r.pdfjsSharedUtil.UNSUPPORTED_FEATURES,t.isValidUrl=r.pdfjsDisplayDOMUtils.isValidUrl,t.createValidAbsoluteUrl=r.pdfjsSharedUtil.createValidAbsoluteUrl,t.createObjectURL=r.pdfjsSharedUtil.createObjectURL,t.removeNullCharacters=r.pdfjsSharedUtil.removeNullCharacters,t.shadow=r.pdfjsSharedUtil.shadow,t.createBlob=r.pdfjsSharedUtil.createBlob,t.getFilenameFromUrl=r.pdfjsDisplayDOMUtils.getFilenameFromUrl,t.addLinkAttributes=r.pdfjsDisplayDOMUtils.addLinkAttributes});